{*
 * List items page.
 *}
<div class="block double-padded c-list {$list.color_class}{if $can_edit} cl-editable{/if}">
	{if $can_edit}
		<ul class="menu-h float-right">
			<li>
				<a href="?action=editor&id={$list.id}"><i class="icon16 settings"></i>[`List settings`]</a>
			</li>
			<li>
				<a href="#" id="deletelist"><i class="icon16 delete"></i>[`Delete`]</a>
			</li>
		</ul>
	{/if}

	<h1 id="name">
		<span>{$list.name|escape}</span>
		{if $can_edit}
			<a class="inline-link" id="add" href="#"><i class="icon16 add"></i></a>
		{/if}
	</h1>

	<ul class="menu-v">
		{if $can_edit}
			<li class="c-add-form" id="c-add-form">
				<input class="inputname emptyonclick" type="text" name= "name" value="Input Name">
				<input class="inputval emptyonclick" type="text" name="value" value="Input Value">
				<input class="inputdesc emptyonclick" type="text" name="desc" value="Input Description">
				visible: <input class="inputvisible" type="checkbox" name="visible" checked="checked">
				<input type="submit" value="[`Add`]">
			</li>
		{/if}
		<li class="c-start-over-form" id="c-start-over-form" style="display:none">
			<input type="submit" value="[`Start over`]">
		</li>
	</ul>

	<ul class="menu-v" id="c-checklist">
	</ul>

	<div class="clear-left"></div>
</div>

<script type="text/javascript">
	// data for script have to be generated inside template
	$.cl = {
		dictionary_id: {$list.id},
		items: {json_encode($items)},
		can_edit: {if $can_edit}1{else}0{/if},
		loc: {
			'edit': "[`Edit`]",
			'del': "[`Delete`]",
			'max': "[`Max 255 characters`]",
			'prompt': "[`Edit list item`]",
			'delconfirm': "[`List “%s” will be deleted permanently. Delete?`]"
		}
	};

{literal}
$(function () {
            $("input.emptyonclick").mouseenter(function (){
                var value = $(this).val();
                $(this).val("");

                $(this).mouseleave(function(){
                    if ($(this).val().length == 0)
                        $(this).val(value);
                });
            });
});
{/literal}
</script>

<script type="text/javascript" src="{$wa_app_static_url}js/list.js?{$wa->version()}"></script>

